syntax = "proto3";

service ProduitService {
  // Get a product by ID
  rpc getProduct (GetProductRequest) returns (GetProductResponse) {}
  
  // Get multiple products with pagination and search
  rpc getProducts (GetProductsRequest) returns (GetProductsResponse) {}
  
  // Create a new product
  rpc createProduct (CreateProductRequest) returns (CreateProductResponse) {}
  
  // Update a product
  rpc updateProduct (UpdateProductRequest) returns (UpdateProductResponse) {}
  
  // Delete a product
  rpc deleteProduct (DeleteProductRequest) returns (DeleteProductResponse) {}
}

// Product message definition
message Product {
  string id = 1;
  string name = 2;
  string description = 3;
  int32 stock = 4;
  double price = 5;
}

// Request to get a product by ID
message GetProductRequest {
  string id = 1;
}

// Response with a product
message GetProductResponse {
  Product product = 1;
}

// Request to get multiple products
message GetProductsRequest {
  int32 page = 1;
  int32 limit = 2;
  string search = 3;
}

// Response with multiple products and pagination info
message GetProductsResponse {
  int32 page = 1;
  int32 limit = 2;
  int32 total = 3;
  int32 totalPage = 4;
  string search = 5;
  repeated Product products = 6;
}

// Request to create a new product
message CreateProductRequest {
  // Omit ID as it will be generated by the service
  Product product = 1;
}

// Response after creating a product
message CreateProductResponse {
  Product product = 1;
}

// Request to update a product
message UpdateProductRequest {
  string id = 1;
  Product product = 2;
}

// Response after updating a product
message UpdateProductResponse {
  Product product = 1;
}

// Request to delete a product
message DeleteProductRequest {
  string id = 1;
}

// Response after deleting a product
message DeleteProductResponse {
  bool success = 1;
}
